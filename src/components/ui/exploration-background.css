/* === Exploration Scene Background — Enchanted Forest Path === */

.exploration-scene {
  position: absolute;
  inset: 0;
  overflow: hidden;
  background: #0a0a1a;
}

/* === SKY === */
.exploration-sky {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 100% 50% at 50% 100%, rgba(60, 30, 10, 0.4) 0%, transparent 60%),
    radial-gradient(ellipse 80% 40% at 30% 20%, rgba(20, 80, 40, 0.12) 0%, transparent 50%),
    radial-gradient(ellipse 60% 40% at 70% 30%, rgba(40, 80, 60, 0.08) 0%, transparent 50%),
    linear-gradient(180deg, #050510 0%, #0d0d25 25%, #0d1a15 50%, #1a1510 75%, #2a1808 100%);
}

/* Stars */
.exploration-stars {
  position: absolute;
  inset: 0;
}
.exploration-star {
  position: absolute;
  background: white;
  border-radius: 50%;
  animation: exploration-twinkle 3s infinite alternate;
}
@keyframes exploration-twinkle {
  0% { opacity: 0.2; transform: scale(1); }
  100% { opacity: 0.9; transform: scale(1.2); }
}

/* Moon */
.exploration-moon {
  position: absolute;
  top: 6%;
  left: 12%;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: radial-gradient(circle at 40% 40%, #fffde8, #ffe888, #e8b040);
  box-shadow:
    0 0 30px rgba(255, 230, 120, 0.5),
    0 0 80px rgba(255, 210, 80, 0.2),
    0 0 150px rgba(255, 200, 60, 0.1);
  animation: exploration-moonGlow 5s ease-in-out infinite alternate;
}
.exploration-moon::after {
  content: '';
  position: absolute;
  top: 22%;
  left: 18%;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(200, 160, 60, 0.25);
  box-shadow: 22px 10px 0 5px rgba(200, 160, 60, 0.15);
}
@keyframes exploration-moonGlow {
  0% { box-shadow: 0 0 30px rgba(255,230,120,0.5), 0 0 80px rgba(255,210,80,0.2); }
  100% { box-shadow: 0 0 45px rgba(255,230,120,0.65), 0 0 110px rgba(255,210,80,0.3); }
}

/* Mountains */
.exploration-mountains {
  position: absolute;
  bottom: 30%;
  left: 0;
  width: 100%;
  height: 35%;
}
.exploration-mountain {
  position: absolute;
  bottom: 0;
  clip-path: polygon(0% 100%, 50% 0%, 100% 100%);
}
.exploration-mountain-1 { left: -8%; width: 38%; height: 90%; background: linear-gradient(180deg, #0d1a0d, #060e06); opacity: 0.5; }
.exploration-mountain-2 { left: 25%; width: 35%; height: 75%; background: linear-gradient(180deg, #0f1f0f, #080f08); opacity: 0.4; }
.exploration-mountain-3 { left: 55%; width: 40%; height: 85%; background: linear-gradient(180deg, #0e1b0e, #070d07); opacity: 0.45; }

/* === TREES === */

/* Far trees — across mid-ground */
.exploration-trees-far {
  position: absolute;
  bottom: 28%;
  left: 0;
  width: 100%;
  height: 30%;
}
.exploration-tree-far {
  position: absolute;
  bottom: 0;
}
.exploration-tree-far svg {
  filter: drop-shadow(0 0 8px rgba(20, 60, 20, 0.3));
}

/* Near trees — frame the path on edges */
.exploration-trees-near {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 65%;
  pointer-events: none;
}
.exploration-tree-near {
  position: absolute;
  bottom: 0;
}
.exploration-tree-near svg {
  filter: drop-shadow(0 0 12px rgba(10, 40, 10, 0.4));
}

/* Gentle tree sway */
.exploration-tree-sway-1 { animation: exploration-treeSway 6s ease-in-out infinite; }
.exploration-tree-sway-2 { animation: exploration-treeSway 7s ease-in-out infinite 1s; }
.exploration-tree-sway-3 { animation: exploration-treeSway 5s ease-in-out infinite 2s; }

@keyframes exploration-treeSway {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(1.5deg); }
}

/* === PATH === */
.exploration-path {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 45%;
  clip-path: polygon(35% 0%, 65% 0%, 75% 100%, 25% 100%);
  background: linear-gradient(180deg, #1a1008 0%, #2a1a0d 40%, #3a2515 70%, #4a3020 100%);
}
.exploration-path::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  clip-path: polygon(42% 0%, 58% 0%, 62% 100%, 38% 100%);
  background: linear-gradient(180deg, rgba(60, 40, 20, 0.3) 0%, rgba(80, 55, 30, 0.4) 100%);
}
/* Path edge details */
.exploration-path::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 6px;
  background: linear-gradient(90deg, transparent 20%, rgba(60, 40, 20, 0.5) 35%, rgba(80, 55, 30, 0.6) 50%, rgba(60, 40, 20, 0.5) 65%, transparent 80%);
}

/* === MINE ENTRANCE === */
.exploration-mine {
  position: absolute;
  top: 38%;
  left: 50%;
  transform: translateX(-50%);
  width: 50px;
  height: 40px;
  background: #050208;
  border-radius: 25px 25px 0 0;
  box-shadow:
    inset 0 0 10px rgba(255, 40, 15, 0.25),
    0 0 20px rgba(0, 0, 0, 0.8);
  animation: exploration-mineGlow 3s ease-in-out infinite;
}
.exploration-mine::before {
  content: '';
  position: absolute;
  bottom: -8px;
  left: -15px;
  width: 80px;
  height: 16px;
  background: linear-gradient(180deg, #1a1008, #0d0804);
  border-radius: 2px;
}
.exploration-mine::after {
  content: '';
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 40, 15, 0.4);
  box-shadow: 0 0 12px rgba(255, 40, 15, 0.4);
}
@keyframes exploration-mineGlow {
  0%, 100% { box-shadow: inset 0 0 8px rgba(255, 40, 15, 0.2), 0 0 20px rgba(0, 0, 0, 0.8); }
  50% { box-shadow: inset 0 0 18px rgba(255, 50, 20, 0.4), 0 0 20px rgba(0, 0, 0, 0.8); }
}

/* === GROUND / GRASS === */
.exploration-ground {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 15%;
  background: linear-gradient(180deg, #0d1a0a 0%, #0a1408 50%, #071007 100%);
}
.exploration-ground::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, rgba(30, 60, 20, 0.3), rgba(40, 80, 30, 0.5), rgba(30, 60, 20, 0.3));
}

/* === FIREFLIES === */
.exploration-firefly {
  position: absolute;
  border-radius: 50%;
  animation: exploration-fireflyFloat ease-in-out infinite;
}
@keyframes exploration-fireflyFloat {
  0% { transform: translate(0, 0); opacity: 0; }
  15% { opacity: 0.9; }
  50% { transform: translate(var(--fx, 20px), var(--fy, -30px)); opacity: 0.7; }
  85% { opacity: 0.5; }
  100% { transform: translate(calc(var(--fx, 20px) * 1.5), calc(var(--fy, -30px) * 0.3)); opacity: 0; }
}

/* === FOG === */
.exploration-fog {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 20%;
  background: linear-gradient(180deg, transparent 0%, rgba(180, 200, 180, 0.03) 60%, rgba(200, 220, 200, 0.05) 100%);
  pointer-events: none;
}

/* === FLOATING LEAVES === */
.exploration-leaf {
  position: absolute;
  border-radius: 50% 0 50% 0;
  animation: exploration-leafFall linear infinite;
}
@keyframes exploration-leafFall {
  0% { transform: translate(0, -20px) rotate(0deg); opacity: 0; }
  8% { opacity: 0.7; }
  50% { transform: translate(var(--lx, 40px), 50vh) rotate(200deg); opacity: 0.5; }
  100% { transform: translate(calc(var(--lx, 40px) * 1.8), 110vh) rotate(400deg); opacity: 0; }
}

/* === VIGNETTE === */
.exploration-vignette {
  position: absolute;
  inset: 0;
  z-index: 15;
  background: radial-gradient(ellipse 65% 55% at 50% 50%, transparent 45%, rgba(0, 0, 0, 0.75) 100%);
  pointer-events: none;
}

/* === SCANLINES === */
.exploration-scanlines {
  position: absolute;
  inset: 0;
  z-index: 16;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.04) 2px,
    rgba(0, 0, 0, 0.04) 4px
  );
  pointer-events: none;
}
